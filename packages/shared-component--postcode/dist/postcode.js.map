{"version":3,"sources":["../src/postcode.js"],"names":["require","$","validatePostcode","showError","submitPostcode","e","preventDefault","postcodeInput","check","value","window","location","replace","SHOP_URL","dataset","utmSource","utmMedium","utmCampaign","classList","add","selector","parentElement","postcode","form","addEventListener","module","exports"],"mappings":";;;;;;AAAA,eAAcA,OAAO,CAAC,iBAAD,CAArB;AAAA,IAAQC,CAAR,YAAQA,CAAR;;AACA,gBAAwCD,OAAO,CAAC,mBAAD,CAA/C;AAAA,IAAQE,gBAAR,aAAQA,gBAAR;AAAA,IAA0BC,SAA1B,aAA0BA,SAA1B;;AAEA,SAASC,cAAT,CAAwBC,CAAxB,EAA2B;AACzBA,EAAAA,CAAC,CAACC,cAAF;AACA,MAAMC,aAAa,GAAGN,CAAC,CAAC,+BAAD,CAAvB;AACA,MAAMO,KAAK,GAAGN,gBAAgB,CAACK,aAAa,CAACE,KAAf,CAA9B;;AACA,MAAID,KAAJ,EAAW;AACTE,IAAAA,MAAM,CAACC,QAAP,CAAgBC,OAAhB,CAA2BF,MAAM,CAACG,QAAlC,kBAAuDN,aAAa,CAACE,KAArE,oBAAyFF,aAAa,CAACO,OAAd,CAAsBC,SAA/G,oBAAuIR,aAAa,CAACO,OAAd,CAAsBE,SAA7J,sBAAuLT,aAAa,CAACO,OAAd,CAAsBG,WAA7M;AACD,GAFD,MAEO;AACLhB,IAAAA,CAAC,CAAC,qBAAD,CAAD,CAAyBiB,SAAzB,CAAmCC,GAAnC,CAAuC,OAAvC;AACA,QAAMC,QAAQ,GAAG,iBAAjB;AACA,QAAMC,aAAa,GAAG,yBAAtB;AACAlB,IAAAA,SAAS,CAACiB,QAAD,EAAW,qGAAX,EAAkHC,aAAlH,CAAT;AACD;AACF;;AAED,SAASC,QAAT,CAAkBC,IAAlB,EAAwB;AACtB,MAAI,CAACA,IAAL,EAAW;AAAE;AAAS;;AACtBA,EAAAA,IAAI,CAACC,gBAAL,CAAsB,QAAtB,EAAgCpB,cAAhC;AACD;;AAEDqB,MAAM,CAACC,OAAP,GAAiBJ,QAAjB","sourcesContent":["const { $ } = require('./modules/bling');\nconst { validatePostcode, showError } = require('./modules/helpers');\n\nfunction submitPostcode(e) {\n  e.preventDefault();\n  const postcodeInput = $('input#coop-c-postcode__search');\n  const check = validatePostcode(postcodeInput.value);\n  if (check) {\n    window.location.replace(`${window.SHOP_URL}?postcode=${postcodeInput.value}&utm_source=${postcodeInput.dataset.utmSource}&utm_medium=${postcodeInput.dataset.utmMedium}&utm_campaign=${postcodeInput.dataset.utmCampaign}`);\n  } else {\n    $('div.coop-c-postcode').classList.add('error');\n    const selector = 'coop-c-postcode';\n    const parentElement = '.coop-c-postcode__inner';\n    showError(selector, '<span class=\"coop-u-red-mid\">Please enter a valid postcode format</span> <br /> For example  M4 4BE', parentElement);\n  }\n}\n\nfunction postcode(form) {\n  if (!form) { return; }\n  form.addEventListener('submit', submitPostcode);\n}\n\nmodule.exports = postcode;\n"],"file":"postcode.js"}