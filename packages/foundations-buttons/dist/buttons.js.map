{"version":3,"sources":["../src/buttons.mjs"],"names":["reset","button","buttonText","querySelector","buttonTexts","querySelectorAll","classList","remove","length","clearTimeout","timerAnnounce","setAttribute","forEach","element","removeAttribute","Promise","resolve","setTimeout","loading","add"],"mappings":";;;;;;;;;;;;;;;;;;;;;AAAA;;AACA;;AAEA;AACA;AACA;AACO,IAAMA,KAAK;AAAA,qFAAG,iBAAOC,MAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AACbC,YAAAA,UADa,GACAD,MAAM,CAACE,aAAP,CAAqB,6BAArB,CADA;AAEbC,YAAAA,WAFa,GAECH,MAAM,CAACI,gBAAP,CAAwB,iBAAxB,CAFD,EAInB;;AACAJ,YAAAA,MAAM,CAACK,SAAP,CAAiBC,MAAjB,CAAwB,mBAAxB,EALmB,CAOnB;;AAPmB,kBAQfL,UAAU,IAAIE,WAAW,CAACI,MAAZ,GAAqB,CARpB;AAAA;AAAA;AAAA;;AASjBC,YAAAA,YAAY,CAACR,MAAM,CAACS,aAAR,CAAZ,CATiB,CAWjB;;AACAT,YAAAA,MAAM,CAACU,YAAP,CAAoB,WAApB,EAAiC,WAAjC;AACAV,YAAAA,MAAM,CAACU,YAAP,CAAoB,eAApB,EAAqC,WAArC,EAbiB,CAejB;;AACAP,YAAAA,WAAW,CAACQ,OAAZ,CAAoB,UAACC,OAAD;AAAA,qBAAaA,OAAO,CACrCF,YAD8B,CACjB,QADiB,EACP,IADO,CAAb;AAAA,aAApB,EAhBiB,CAmBjB;;AACAT,YAAAA,UAAU,CAACY,eAAX,CAA2B,QAA3B,EApBiB,CAsBjB;;AAtBiB,6CAuBV,IAAIC,OAAJ,CAAY,UAACC,OAAD;AAAA,qBAAaC,UAAU,CAAC,YAAM;AAC/ChB,gBAAAA,MAAM,CAACU,YAAP,CAAoB,eAApB,EAAqC,gBAArC;AACAV,gBAAAA,MAAM,CAACU,YAAP,CAAoB,aAApB,EAAmC,MAAnC;AACAK,gBAAAA,OAAO;AACR,eAJyC,EAIvC,GAJuC,CAAvB;AAAA,aAAZ,CAvBU;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAALhB,KAAK;AAAA;AAAA;AAAA,GAAX;AA+BP;AACA;AACA;;;;;AACO,IAAMkB,OAAO;AAAA,sFAAG,kBAAOjB,MAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AACfC,YAAAA,UADe,GACFD,MAAM,CAACE,aAAP,CAAqB,gCAArB,CADE;AAEfC,YAAAA,WAFe,GAEDH,MAAM,CAACI,gBAAP,CAAwB,iBAAxB,CAFC,EAIrB;;AACAJ,YAAAA,MAAM,CAACK,SAAP,CAAiBa,GAAjB,CAAqB,mBAArB,EALqB,CAOrB;;AAPqB,kBAQjBjB,UAAU,IAAIE,WAAW,CAACI,MAAZ,GAAqB,CARlB;AAAA;AAAA;AAAA;;AASnBJ,YAAAA,WAAW,CAACQ,OAAZ,CAAoB,UAACC,OAAD;AAAA,qBAAaA,OAAO,CACrCF,YAD8B,CACjB,QADiB,EACP,IADO,CAAb;AAAA,aAApB,EATmB,CAYnB;;AACAT,YAAAA,UAAU,CAACY,eAAX,CAA2B,QAA3B,EAbmB,CAenB;;AAfmB,8CAgBZ,IAAIC,OAAJ,CAAY,UAACC,OAAD;AAAA,qBAAaC,UAAU,CAAC,YAAM;AAC/ChB,gBAAAA,MAAM,CAACU,YAAP,CAAoB,WAApB,EAAiC,KAAjC;AACAV,gBAAAA,MAAM,CAACU,YAAP,CAAoB,aAApB,EAAmC,OAAnC;AACAK,gBAAAA,OAAO;AACR,eAJyC,EAIvC,GAJuC,CAAvB;AAAA,aAAZ,CAhBY;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAPE,OAAO;AAAA;AAAA;AAAA,GAAb","sourcesContent":["/* eslint-disable no-param-reassign */\n/* eslint-disable consistent-return */\n\n/**\n * Reset button to default state\n */\nexport const reset = async (button) => {\n  const buttonText = button.querySelector('.coop-btn__text:not([role])');\n  const buttonTexts = button.querySelectorAll('.coop-btn__text');\n\n  // Remove loading spinner\n  button.classList.remove('coop-btn--loading');\n\n  // Check for loading text\n  if (buttonText && buttonTexts.length > 0) {\n    clearTimeout(button.timerAnnounce);\n\n    // Reset but suppress button text announcement\n    button.setAttribute('aria-live', 'assertive');\n    button.setAttribute('aria-relevant', 'additions');\n\n    // Hide all button text\n    buttonTexts.forEach((element) => element\n      .setAttribute('hidden', true));\n\n    // Show default button text\n    buttonText.removeAttribute('hidden');\n\n    // Prepare for next announcement\n    return new Promise((resolve) => setTimeout(() => {\n      button.setAttribute('aria-relevant', 'additions text');\n      button.setAttribute('aria-atomic', 'true');\n      resolve();\n    }, 300));\n  }\n};\n\n/**\n * Add loading state to button\n */\nexport const loading = async (button) => {\n  const buttonText = button.querySelector('.coop-btn__text[role=\"status\"]');\n  const buttonTexts = button.querySelectorAll('.coop-btn__text');\n\n  // Add loading spinner\n  button.classList.add('coop-btn--loading');\n\n  // Check for loading text\n  if (buttonText && buttonTexts.length > 0) {\n    buttonTexts.forEach((element) => element\n      .setAttribute('hidden', true));\n\n    // Show button loading text\n    buttonText.removeAttribute('hidden');\n\n    // Suppress next announcement\n    return new Promise((resolve) => setTimeout(() => {\n      button.setAttribute('aria-live', 'off');\n      button.setAttribute('aria-atomic', 'false');\n      resolve();\n    }, 300));\n  }\n};\n"],"file":"buttons.js"}